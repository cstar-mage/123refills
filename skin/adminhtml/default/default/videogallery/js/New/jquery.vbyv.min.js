(function(c){c.APYTLoader=function(f){function a(){if(N.length){d=N.shift();t=d.type;var a=d.path;O=[];W=0;I=1;ga=d.limit?d.limit:200;X=d.order?d.order:"relevance";if("youtube_single"==t||"youtube_single_list"==t)a="https://www.googleapis.com/youtube/v3/videos?id="+a+"&key="+G+"&part=snippet,contentDetails,statistics,status";else if(-1==u.inArray(X,Ia)&&(X="relevance"),"youtube_playlist"==t)a="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+ a+"&key="+G+"";else if("youtube_video_query"==t)a="https://www.googleapis.com/youtube/v3/search?part=id,snippet&maxResults=50&order="+X+"&q="+(d.query||d.path)+"&key="+G+"";else if("youtube_user_channels"==t)a="https://www.googleapis.com/youtube/v3/channels?part=contentDetails&maxResults=50&forUsername="+a+"&key="+G+"";else if("youtube_channel"==t)a="https://www.googleapis.com/youtube/v3/channels?part=snippet,contentDetails&id="+a+"&key="+G+"";else{alert("Wrong youtube type V3!");return}e(a)}else u(v).trigger("APYTLoader.END_LOAD", [K])}function e(c){u.ajax({url:c,dataType:"jsonp"}).done(function(c){c.error&&c.error.message&&alert(c.error.message);var f,u=c.items.length;u+W>ga&&(u=ga-W);for(f=0;f<u;f++)if(_item=c.items[f])"youtube_playlist"==t||"youtube_single"==t||"youtube_single_list"==t?("private"!=_item.status.privacyStatus&&K.push(z(_item,t)),W++):"youtube_video_query"==t?(K.push(z(_item,t)),W++):"youtube_user_channels"!=t&&"youtube_channel"!=t||O.push(_item.contentDetails.relatedPlaylists.uploads);if("youtube_single"== t||"youtube_single_list"==t)a();else if("youtube_user_channels"!=t&&"youtube_channel"!=t)if(I+=50,I<ga)if(I<=c.pageInfo.totalResults&&c.nextPageToken){f=d.path;if("youtube_playlist"==t)var v="https://www.googleapis.com/youtube/v3/playlistItems?pageToken="+c.nextPageToken+"&part=snippet,status,contentDetails&maxResults=50&playlistId="+f+"&key="+G+"";else"youtube_video_query"==t&&(v="https://www.googleapis.com/youtube/v3/search?pageToken="+c.nextPageToken+"&part=id,snippet&maxResults=50&order="+X+"&q="+ f+"&key="+G+"");e(v)}else a();else T&&(Y++,Y<O.length?(I=0,ha=O[Y],v="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+ha+"&key="+G+"",e(v)):(T=!1,a())),a();else O.length?(1<O.length&&(T=!0),ha=O[Y],v="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+ha+"&key="+G+"",t="youtube_playlist",e(v)):a()}).fail(function(c,d,e){alert("There was an error retrieveing youtube data: "+ c.responseText);a()})}function z(a,c){var e=jQuery.extend(!0,{},d);e.deeplink&&"youtube_single"!=e.type&&(e.deeplink+=(W+1).toString());e.data=a;e.type="youtube";e.origtype=c;"youtube_single"==c||"youtube_single_list"==c?e.id=a.id:"youtube_playlist"==c?e.id=a.contentDetails.videoId:"youtube_video_query"==c&&(e.id=a.id.videoId);e.title||(e.title=a.snippet.title?a.snippet.title:null);e.description||(e.description=a.snippet.description?a.snippet.description:null);!e.thumb&&a.snippet.thumbnails&&(a.snippet.thumbnails.medium? e.thumb=a.snippet.thumbnails.medium.url:a.snippet.thumbnails.standard&&(e.thumb=a.snippet.thumbnails.standard.url));return e}var v=this,u=jQuery.noConflict(),t,d,N=[],K=[],O=[],Y=0,ha,T,I,W,ga,X,Ia="date rating relevance title videoCount viewCount".split(" "),G=f.ytAppId;u.inArray(c.location.protocol,["http:","https:"]);this.setData=function(c){G&&""!=G?(K=[],N=u.extend(!0,[],[c]),a()):alert("Youtube API key missing! Please set API key in player settings.")}}})(window); var audio=document.createElement("audio"),mp3Support,oggSupport,html5Support=!1;audio.canPlayType&&(html5Support=!0,mp3Support=!!audio.canPlayType&&""!=audio.canPlayType("audio/mpeg"),oggSupport=!!audio.canPlayType&&""!=audio.canPlayType('audio/ogg; codecs="vorbis"')); var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),isIOS=!1,agent=navigator.userAgent,isAndroid=-1<agent.indexOf("Android"),isiPhoneIpod=-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod"),isiPad=-1<agent.indexOf("iPad");if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))isIOS=!0;var mobile_type; if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))-1<agent.indexOf("iPhone")?mobile_type="iPhone":-1<agent.indexOf("iPod")?mobile_type="iPod":-1<agent.indexOf("iPad")&&(mobile_type="iPad");var isSafari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),isChrome=!isSafari&&testCSS("WebkitTransform"),isOpera=!(!window.opera||!window.opera.version);function testCSS(c){return c in document.documentElement.style} var isIE=!1,ieBelow9=!1,ieBelow8=!1,ie_check=getInternetExplorerVersion();-1!=ie_check&&(isIE=!0,9>ie_check&&(ieBelow9=!0),8>ie_check&&(ieBelow8=!0)); function getInternetExplorerVersion(){var c=-1;if("Microsoft Internet Explorer"==navigator.appName){var f=navigator.userAgent,a=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=a.exec(f)&&(c=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(f=navigator.userAgent,a=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=a.exec(f)&&(c=parseFloat(RegExp.$1)));return c} (function(c){c.fn.vbyv=function(f){function a(){var b,a,c,e,d,g=!1;n.unbind("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").bind("touchstart.ap",function(f){if(!k)return!1;if(!va)return!0;f=f.originalEvent.touches[0];b=n.position().left;a=n.position().top;c=f.pageX;e=f.pageY;d=!1;g=!0}).bind("touchmove.ap",function(f){if(g){f=f.originalEvent.touches[0];var L;"horizontal"==_thumbOrientation?(L=b-c+f.pageX,w=x("w"),0<L&&(L=0),L<w-p-q-l&&(L=w-p-q-l),n.css("left",L+"px")):(L=a-e+f.pageY, h=x("h"),0<L&&(L=0),L<h-p-q-l&&(L=h-p-q-l),n.css("top",L+"px"));d=d||5<Math.abs(c-f.pageX)||5<Math.abs(e-f.pageY);return!1}}).bind("touchend.ap",function(b){g=!1}).bind("click.ap-touchclick",function(b){if(d)return d=!1})}function e(){r||(wa&&clearInterval(wa),Z&&clearTimeout(Z),u(Ta))}function z(){Z&&clearTimeout(Z);u(Ta)}function v(b){var a=b.length,c="",e,d,g;for(e=0;e<a;e++)if(d=b.charAt(e).toLowerCase(),"\\"==d&&(d="/"),g=d.charCodeAt(0),97<=g&&122>=g||48<=g&&57>=g||0<="_-".indexOf(d))c+=d;return c} function u(b){b.stopPropagation();Ua||(Ua=!0);if("/"==b.value&&(aa=!0,c.address.history(!1),!P(pa))){c.address.value(pa);c.address.history()||c.address.history(!0);return}if(Va)aa=Va=!1;else{U=b.value;"/"==U.charAt(0)&&(U=U.substring(1));"/"==U.charAt(U.length-1)&&(U=U.substring(0,U.length-1));b=U;var a;0<b.indexOf("/")?(Wa=!0,Ka=a=b.substr(0,b.indexOf("/")),xa=b.substr(b.indexOf("/")+1)):(Ka=b,Wa=!1,xa=null,a=b);b=v(a);a=!1;var e,d=categoryArr.length;for(e=0;e<d;e++)if(categoryArr[e].categoryName== b){M=e;ya=categoryArr[e].id;a=!0;break}if(!a)return-1==c.inArray(b,hb)&&alert("404 page not found, check your deeplinks first level!"),c.address.history(!1),!1;aa=!1;void 0==za||za!=M?(void 0!=za&&Sa(),I()):xa?t(xa)?_playlistManager.getCounter()!=La?(aa=!0,-1!=_playlistManager.getCounter()&&V(),_playlistManager.setCounter(La,!1)):(Aa(),ga()):(alert("404 page not found, check your deeplinks second level!"),c.address.history(!1)):gb()}}function t(b){var a=!1,c,e=categoryArr[M].mediaName,d=e.length; for(c=0;c<d;c++)if(e[c]==b){La=c;a=!0;break}return a?!0:!1}function d(b){return categoryArr[M].categoryName+"/"+categoryArr[M].mediaName[b]}function N(b){ia++;ia>ba-1?ib?(ib=!1,T()):ha():K()}function K(){if(/youtube/.test(ja[ia].type))jb.setData(ja[ia]);else{var b=ja[ia],a=b.type;ca&&(kb=b.fromapi?-1!=c.inArray(a,lb)?a.replace(/\./g,"_")+parseInt(99999999*Math.random(),10):"vimeo.single_video"==a?a.replace(/\./g,"_")+parseInt(99999999*Math.random(),10):b.deeplink:b.deeplink);-1!=c.inArray(a,lb)?(a= b.limit,da=!isNaN(parseFloat(a))&&isFinite(a)?b.limit:200,Xa=!1,Ba=0,Ca=1,Y()):(alert("Invalid data-type in playlist!"),W())}}function O(){za=M;ia=0;qa=[];ja=[];var b,a;c(mb.find("div[id="+ya+"]")).children("div[class=playlistNonSelected]").each(function(){a=c(this);b={};b.type=a.attr("data-type");b.path=b.id=a.attr("data-path");void 0==a.attr("data-user")||P(a.attr("data-user"))||(b.user=a.attr("data-user"));void 0==a.attr("data-limit")||P(a.attr("data-limit"))||(b.limit=parseInt(a.attr("data-limit"), 10));void 0==a.attr("data-sort")||P(a.attr("data-sort"))||(b.sort=a.attr("data-sort"));void 0==a.attr("data-query")||P(a.attr("data-query"))||(b.query=a.attr("data-query"));void 0==a.attr("data-quality")||P(a.attr("data-quality"))||(b.quality=a.attr("data-quality"));ca&&void 0!=a.attr("data-address")&&!P(a.attr("data-address"))&&(b.deeplink=a.attr("data-address"));ja.push(b)});ba=ja.length;K()}function Y(){var b=ja[ia],a=b.type,e="includes/vimeo/src/vimeo_data.php?rand="+99999999*Math.random(),b= {type:b.type,path:b.path||null,user:b.user||null,sort:b.sort||null,query:b.query||null,page:Ca,per_page:per_page=50>da?da:50};c.ajax({type:"GET",url:e,data:b,dataType:"json"}).done(function(b){if(b.body.error)return console.log(b.body.error),!1;Xa||(Xa=!0,b.body.data?(da>b.body.total&&(da=b.body.total),Da=Math.ceil(b.body.total/50),Da>Math.ceil(da/50)&&(Da=Math.ceil(da/50))):Da=1);var c,e,d,g;b.body.data?(c=b.body.data.length,c+Ba>da&&(c=da-Ba)):c=1;for(e=0;e<c;e++)g=1<c?b.body.data[e]:b.body,d={}, ca&&(d.deeplink=kb+(Ba+1).toString()),d.type="vimeo",d.origtype=a,d.id=g.uri.substr(g.uri.lastIndexOf("/")+1),g.duration&&(d.duration=g.duration),g.name&&(d.title=g.name),g.description&&(d.description=g.description),g.pictures&&g.pictures.sizes&&(d.thumb=g.pictures.sizes[0].link),g.width&&(d.width=g.width),g.height&&(d.height=g.height),d.item=ja[ia].item,qa.push(d),Ba++;Ca<Da?(Ca+=1,Y()):(0==qa.length&&alert("Vimeo response contains no results!"),N())}).fail(function(b,a,c){alert("There was an error retrieveing vimeo data: "+ b.responseText);W()})}function ha(){var b,a=na.length,e=qa.length,d,z;if(ca){if(!M&&0!==M){b={};var l="ap_playlist"+nb;hb.push(l);nb++;b.categoryName=b.id=l;b.fromapi=!0;categoryArr.push(b);za=M=categoryArr.length-1;Ka=l;c.address.value(l)}categoryArr[M].mediaName?l=categoryArr[M].mediaName:(l=[],categoryArr[M].mediaName=l);b=c.address.strict()?"#/":"#";var m=Ab+b+Ka+"/"}for(b=0;b<e;b++)z=qa[b],ca&&(d=v(z.deeplink),l.push(d)),d=c("<div/>").attr({"data-type":z.type,"data-path":z.id}).css({opacity:0, cursor:"pointer"}),g&&(d.appendTo(n).bind("click",function(b){b.preventDefault();if(!k||r)return!1;b=c(b.currentTarget).attr("data-id");b!=_playlistManager.getCounter()&&(V(),_playlistManager.processPlaylistRequest(b),g&&Bb&&Ja())}).stop().animate({opacity:1},{duration:500}),isMobile||d.bind("mouseenter",function(b){b.preventDefault();if(!k||r)return!1;var a=c(b.currentTarget);a.attr("data-id");if(b=a.find("div[data-title='titleDiv']"))a=a.height()-b.outerHeight(),0>a&&(a=0),b.stop().animate({top:a+ "px"},{duration:300});return!1}).bind("mouseleave",function(b){b.preventDefault();if(k&&!r&&(b=c(b.currentTarget),b.attr("data-id")!=_playlistManager.getCounter())){var a=b.find("div[data-title='titleDiv']");a&&a.stop().animate({top:b.height()+"px"},{duration:300});return!1}})),J.push(d),na.push({id:b+a,type:z.type,path:z.id,title:z.title?z.title:"",description:z.description?z.description:"",deeplink:m+z.deeplink,quality:z.quality?z.quality:"default"}),g&&(z.thumb&&c(new Image).attr({alt:z.title? z.title:"thumb"}).addClass("thumb_img").appendTo(d).load(function(){}).error(function(b){}).attr("src",z.thumb),c("<div/>").attr("data-title","titleDiv").addClass("title_holder").appendTo(d));if(g)for(p=0,b,e=J.length,b=0;b<e;b++)d=J[b].attr("data-id",b).find("img[class=thumb_img]").attr("data-id",b),a=c("<p><span>"+na[b].title+"</span></p>").addClass("title"),J[b].find("div[data-title='titleDiv']").html(a);ba=na.length;_playlistManager.setPlaylistItems(ba);g&&!ob&&!Q&&0<ba&&(ob=!0,Cb&&Ja());g&&c(".title_holder").dotdotdot(); Va=!1;Ma(!0);T();Ya||(Ya=!0,ca?Wa&&(t(xa)?(aa=!0,_playlistManager.setCounter(La,!1)):(alert("404 page not found, check your deeplinks second level!"),c.address.history(!1))):(e=f.activeItem,e>ba-1&&(e=ba-1),-1<e&&_playlistManager.setCounter(e,!1)))}function T(){r=!1;oa.css("display","none");k||("undefined"!==typeof yvgbSetupDone&&yvgbSetupDone(this),k=!0)}function I(){r=!0;oa.css("display","block");O()}function W(){r=!1;oa.css("display","none")}function ga(){m&&X();var b=na[_playlistManager.getCounter()]; Ea=b.path;m=b.type;"vimeo"==m?yb():"youtube"==m&&zb(b.quality)}function X(){"vimeo"==m?B&&B.clean():"youtube"==m&&(_youtubePlayer&&_youtubePlayer.stop(),R.css("left","-10000px"));S=!1;m=null}function Ia(){k&&!r&&(V(),_playlistManager.advanceHandler(1,!0))}function G(){k&&!r&&(V(),_playlistManager.advanceHandler(-1,!0))}function gb(){k&&m&&(m&&X(),V(),_playlistManager.reSetCounter())}function Sa(){if(!k)return!1;"buttons"==F&&(Fa("off"),Ga("off"));m&&X();_playlistManager.reSetCounter();n.empty();J= [];"horizontal"==_thumbOrientation?n.css("left","0px"):n.css("top","0px");na=[];Ya=!1}function yb(){pb?B.initVideo(Ea):(B=c.vimeoPlayer({autoPlay:Za,defaultVolume:ra,mediaPath:Ea,vimeoHolder:ea,isMobile:isMobile,initialAutoplay:Na,protocol:Oa},f),c(B).bind("ap_VimeoPlayer.VIMEO_READY",function(){oa.css("display","none")}),c(B).bind("ap_VimeoPlayer.VIMEO_PLAY",function(){oa.css("display","none");S=!0}),c(B).bind("ap_VimeoPlayer.VIMEO_PAUSE",function(){S=!1}),c(B).bind("ap_VimeoPlayer.END_PLAY",function(){qb? (V(),_playlistManager.advanceHandler(1,!0)):isMobile?Na&&B.play():Za&&B.play()}),pb=!0,setTimeout(function(){$a()},500))}function zb(b){R.css("left","0px");rb?_youtubePlayer.initVideo(Ea,b):(_youtubePlayer=c.youtubePlayer({autoPlay:ab,defaultVolume:ra,mediaPath:Ea,youtubeHolder:R,youtubeChromeless:!1,isMobile:isMobile,initialAutoplay:Na,quality:b,protocol:Oa},f),c(_youtubePlayer).bind("ap_YoutubePlayer.YT_READY",function(){oa.css("display","none")}),c(_youtubePlayer).bind("ap_YoutubePlayer.START_PLAY", function(){oa.css("display","none");S=!0}),c(_youtubePlayer).bind("ap_YoutubePlayer.STATE_PLAYING",function(){S=!0}),c(_youtubePlayer).bind("ap_YoutubePlayer.STATE_PAUSED",function(){S=!1}),c(_youtubePlayer).bind("ap_YoutubePlayer.END_PLAY",function(){qb?(V(),_playlistManager.advanceHandler(1,!0)):isMobile?Na&&_youtubePlayer.play():ab&&_youtubePlayer.play()}),rb=!0,setTimeout(function(){$a()},500))}function Ja(){var b;Q?(Q=!1,b="horizontal"==_thumbOrientation?"data/icons/prev_v.png":"data/icons/prev.png", ka.css("background-image",'url("'+b+'")'),"horizontal"==_thumbOrientation?(b=x("h")-C,la.stop().animate({height:b+"px"},{duration:500}),-1!=_playlistManager.getCounter()&&R.stop().animate({height:b+"px"},{duration:500}),ea.stop().animate({height:b+"px"},{duration:500}),g.stop().animate({bottom:-D+C+"px"},{duration:500})):(b=x("w")-C,la.stop().animate({width:b+"px"},{duration:500}),-1!=_playlistManager.getCounter()&&R.stop().animate({width:b+"px"},{duration:500}),ea.stop().animate({width:b+"px"},{duration:500}), g.stop().animate({right:-D+C+"px"},{duration:500}))):(Q=!0,b="horizontal"==_thumbOrientation?"data/icons/next_v.png":"data/icons/next.png",ka.css("background-image",'url("'+b+'")'),"horizontal"==_thumbOrientation?(b=x("h")-D,la.stop().animate({height:b+"px"},{duration:500}),-1!=_playlistManager.getCounter()&&R.stop().animate({height:b+"px"},{duration:500}),ea.stop().animate({height:b+"px"},{duration:500}),g.stop().animate({bottom:"0px"},{duration:500})):(b=x("w")-D,la.stop().animate({width:b+"px"}, {duration:500}),-1!=_playlistManager.getCounter()&&R.stop().animate({width:b+"px"},{duration:500}),ea.stop().animate({width:b+"px"},{duration:500}),g.stop().animate({right:"0px"},{duration:500})))}function sb(){if("horizontal"==_thumbOrientation){var b=x("w"),a;p>b-l-q?(Fa("on"),Ga("on"),va=!0,a=parseInt(n.css("left"),10),a<b-p-q-l?(A&&clearInterval(A),a=b-p-q-l):0<a&&(a=0),n.css("left",a+"px")):(Fa("off"),Ga("off"),va=!1,n.css("left",b/2-p/2-l+"px"))}else b=x("h"),p>b-l-q?(Fa("on"),Ga("on"),va=!0, a=parseInt(n.css("top"),10),a<b-p-q-l?(A&&clearInterval(A),a=b-p-q-l):0<a&&(a=0),n.css("top",a+"px")):(Fa("off"),Ga("off"),va=!1,n.css("top",b/2-p/2-l+"px"))}function tb(){Ha?(H.reinitialise(),"vertical"==_thumbOrientation?(H.scrollToY(0),E.find(".jspPane").css("left","0px"),H.getContentHeight()<E.height()?H.getContentPane().css("top",parseInt(E.height()/2-H.getContentHeight()/2,10)+"px"):H.getContentPane().css("top","0px")):(H.scrollToX(0),E.find(".jspPane").css("top","0px"),H.getContentWidth()< E.width()?H.getContentPane().css("left",parseInt(E.width()/2-H.getContentWidth()/2,10)+"px"):H.getContentPane().css("left","0px"))):(Ha=E,Ha.jScrollPane({horizontalDragMinWidth:100,horizontalDragMaxWidth:300,verticalDragMinHeight:100,verticalDragMaxHeight:200}),H=Ha.data("jsp"),Ha.bind("jsp-initialised",function(b,a){}),isMobile||E.bind("mousewheel",function(b,a,c,e){if(!k||r)return!1;"horizontal"==_thumbOrientation&&H&&H.scrollByX(100*(0<a?-1:1));return!1}))}function Fa(b){"on"==b?thumbBackward.css("display", "block"):thumbBackward.css("display","none")}function Ga(b){"on"==b?thumbForward.css("display","block"):thumbForward.css("display","none")}function Aa(){var b=c(J[_playlistManager.getCounter()]);if(b){b.css("cursor","default");var a=b.find("div[data-title='titleDiv']");a&&(b=b.height()-a.outerHeight(),0>b&&(b=0),a.stop().animate({top:b+"px"},{duration:500}))}}function V(){if(-1!=_playlistManager.getCounter()){var b=c(J[_playlistManager.getCounter()]);if(b){b.css("cursor","pointer");var a=b.find("div[data-title='titleDiv']"); a&&a.stop().animate({top:b.height()+"px"},{duration:500})}}}function ub(){var b,a=x("w"),e=x("h");g&&(p=0,E.css({width:"",height:""}),n.css({width:"",height:""}));if("horizontal"==_thumbOrientation){if(g?(g.removeClass().addClass("thumbHolder"),sa.removeClass().addClass("playlistControls"),C=sa.height(),D=g.height(),"buttons"==F&&(thumbBackward.removeClass().addClass("thumbBackward"),thumbForward.removeClass().addClass("thumbForward"),l=parseInt(thumbBackward.css("width"),10),q=parseInt(thumbForward.css("width"), 10))):C=D=0,Q?(b=e-D,g&&g.css("bottom","0px")):(b=e-C,g&&g.css("bottom",-D+C+"px")),la.removeClass().addClass("mediaWrapper").css({width:"100%",height:b+"px"}),ea.css({width:"100%",height:b+"px"}),m&&"youtube"==m&&-1!=_playlistManager.getCounter()&&R.css({height:b+"px",width:a+"px"}),g){"buttons"==F?E.removeClass().addClass("thumbContainer").css({width:a-l-q+"px",left:l+"px",top:""}):E.removeClass().addClass("thumbContainer").css("width",a+"px");n.removeClass().addClass("thumbInnerContainer").css({top:"0px", left:"0px"});ta.removeClass().addClass("playlist_prev");ka.removeClass().addClass("playlist_toggle");ua.removeClass().addClass("playlist_next");250<a?(ma.removeClass().addClass("advance_controls"),fa.removeClass().addClass("playlist_switch")):(ma.removeClass().addClass("advance_controls_small"),fa.removeClass().addClass("playlist_switch_small"));a=J.length;p=0;c(J[a-1]).css({marginRight:"0px"});for(b=0;b<a;b++)e=c(J[b]).removeClass().addClass("thumbs"),e.find("div[data-title='titleDiv']").css({top:e.height()+ "px",display:"block"}),p+=e.outerWidth(!0);n.css("width",p+"px")}}else if(g?(g.removeClass().addClass("thumbHolder_v"),sa.removeClass().addClass("playlistControls_v"),C=sa.width(),D=g.width(),"buttons"==F&&(thumbBackward.removeClass().addClass("thumbBackward_v"),thumbForward.removeClass().addClass("thumbForward_v"),l=parseInt(thumbBackward.css("height"),10),q=parseInt(thumbForward.css("height"),10))):C=D=0,Q?(b=a-D,g&&g.css("right","0px")):(b=a-C,g&&g.css("right",-D+C+"px")),la.removeClass().addClass("mediaWrapper_v").css({width:b+ "px",height:"100%"}),ea.css({width:b+"px",height:"100%"}),m&&"youtube"==m&&-1!=_playlistManager.getCounter()&&R.css({width:b+"px",height:e+"px"}),g)for("buttons"==F?E.removeClass().addClass("thumbContainer_v").css({height:e-l-q+"px",top:l+"px",left:""}):E.removeClass().addClass("thumbContainer_v").css({height:e+"px"}),n.removeClass().addClass("thumbInnerContainer_v").css({top:"0px",left:"0px"}),ta.removeClass().addClass("playlist_prev_v"),ka.removeClass().addClass("playlist_toggle_v"),ua.removeClass().addClass("playlist_next_v"), 250<e?(ma.removeClass().addClass("advance_controls_v"),fa.removeClass().addClass("playlist_switch_v")):(ma.removeClass().addClass("advance_controls_v_small"),fa.removeClass().addClass("playlist_switch_v_small")),a=J.length,p=0,c(J[a-1]).css({marginBottom:"0px"}),b=0;b<a;b++)e=c(J[b]).removeClass().addClass("thumbs_v"),e.find("div[data-title='titleDiv']").css({top:e.height()+"px",display:"block"}),p+=e.outerHeight(!0);g&&(Aa(),b="horizontal"==_thumbOrientation?"data/icons/prev.png":"data/icons/prev_v.png", ta.css("background-image",'url("'+b+'")'),b=Q?"horizontal"==_thumbOrientation?"data/icons/next_v.png":"data/icons/next.png":"horizontal"==_thumbOrientation?"data/icons/prev_v.png":"data/icons/prev.png",ka.css("background-image",'url("'+b+'")'),b="horizontal"==_thumbOrientation?"data/icons/next.png":"data/icons/next_v.png",ua.css("background-image",'url("'+b+'")'),"buttons"==F&&(b="horizontal"==_thumbOrientation?"data/icons/next.png":"data/icons/next_v.png",thumbForward.css("background-image",'url("'+ b+'")'),b="horizontal"==_thumbOrientation?"data/icons/prev.png":"data/icons/prev_v.png",thumbBackward.css("background-image",'url("'+b+'")')))}function $a(){var b,a=x("w"),c=x("h");"horizontal"==_thumbOrientation?(g?("buttons"==F&&(l=parseInt(thumbBackward.css("width"),10),q=parseInt(thumbForward.css("width"),10)),C=sa.height(),D=g.height()):C=D=0,Q?(b=c-D,g&&g.css("bottom","0px")):(b=c-C,g&&g.css("bottom",-D+C+"px")),la.css("height",b+"px"),ea.css("height",b+"px"),m&&"youtube"==m&&-1!=_playlistManager.getCounter()&& R.css({height:b+"px",width:a+"px"}),g&&("buttons"==F?E.css("width",a-l-q+"px"):E.css("width",a+"px"),ta.removeClass().addClass("playlist_prev"),ka.removeClass().addClass("playlist_toggle"),ua.removeClass().addClass("playlist_next"),250<a?(ma.removeClass().addClass("advance_controls"),fa.removeClass().addClass("playlist_switch")):(ma.removeClass().addClass("advance_controls_small"),fa.removeClass().addClass("playlist_switch_small")))):(g?("buttons"==F&&(l=parseInt(thumbBackward.css("height"),10),q= parseInt(thumbForward.css("height"),10)),C=sa.width(),D=g.width()):C=D=0,Q?(b=a-D,g&&g.css("right","0px")):(b=a-C,g&&g.css("right",-D+C+"px")),la.css("width",b+"px"),ea.css("width",b+"px"),m&&"youtube"==m&&-1!=_playlistManager.getCounter()&&R.css({width:b+"px",height:c+"px"}),g&&("buttons"==F?E.css("height",c-l-q+"px"):E.css("height",c+"px"),ta.removeClass().addClass("playlist_prev_v"),ka.removeClass().addClass("playlist_toggle_v"),ua.removeClass().addClass("playlist_next_v"),250<c?(ma.removeClass().addClass("advance_controls_v"), fa.removeClass().addClass("playlist_switch_v")):(ma.removeClass().addClass("advance_controls_v_small"),fa.removeClass().addClass("playlist_switch_v_small"))))}function vb(){x("h");x("w");_thumbOrientation="horizontal"==_thumbOrientation?"vertical":"horizontal";ub();g&&("buttons"==F?sb():tb())}function Ma(b){x("h");x("w");b?ub():$a();g&&("buttons"==F?sb():tb())}function x(b){return"w"==b?y.width():y.height()}function P(b){return 0==b.replace(/^\s+|\s+$/g,"").length}var k=!1,Ab=window.location.href, Oa=window.location.protocol;"file:"==Oa&&(Oa="http:");c("body");var Db=c(window);c(document);var bb,Ea,m,S=!1,B,pb=!1,rb=!1,p,A,J=[],ia=0,qa=[],ja=[],ba,Q=!1,r=!1,na=[],Ha,H,hb=[],Va,ib,ya,lb="vimeo.channel vimeo.group vimeo.user_album vimeo.user_appearance vimeo.user_like vimeo.user_portfolio vimeo.user_uploaded vimeo.video_query vimeo.single_video vimeo.related_video".split(" "),Ba,Ca,Da,da,Xa,jb=new APYTLoader(f);c(jb).on("APYTLoader.END_LOAD",function(b,a){var c,e=a.length,d;for(c=0;c<e;c++)d= a[c],qa.push(d);N()});var Ya,F=f.scrollType,Eb=f.componentFixedSize,ab=f.autoPlay,Za=f.autoPlay,Na=f.autoPlay;isMobile&&(Za=ab=!1);var qb=f.autoAdvanceToNextVideo,Fb=f.randomPlay,Gb=f.loopingOn,ra=f.defaultVolume;0>ra?ra=0:1<ra&&(ra=1);var Bb=f.closePlaylistOnVideoSelect,Cb=f.autoOpenPlaylist,ob,y=c(this),oa=y.find(".mediaPreloader").css("display","block"),mb=y.find(".componentPlaylist"),la=y.find(".mediaWrapper"),R=y.find(".youtubeHolder"),ea=y.find(".vimeoHolder"),wb=f.playlistPosition;"bottom"== wb?_thumbOrientation="horizontal":"right"==wb&&(_thumbOrientation="vertical");var g;0<y.find(".thumbHolder").length&&(g=y.find(".thumbHolder"));"buttons"==F&&!isMobile&&g&&g.bind("mousewheel",function(b,a,c,e){if(!k||r)return!1;b=0<a?1:-1;if("horizontal"==_thumbOrientation){if(p<x("w")-l-q)return;a=parseInt(n.css("left"),10);a+=200*b;0<a?a=0:a<x("w")-p-q-l&&(a=x("w")-p-q-l);n.css("left",a+"px")}else{if(p<x("h")-l-q)return;a=parseInt(n.css("top"),10);a+=200*b;0<a?a=0:a<x("h")-p-q-l&&(a=x("h")-p-q- l);n.css("top",a+"px")}return!1});var Pa="",Qa="",cb,va=!0;"ontouchstart"in window?(cb=!0,Pa="touchstart.ap",Qa="touchend.ap"):(cb=!1,Pa="mousedown.ap",Qa="mouseup.ap");var E=y.find(".thumbContainer");"buttons"==F&&(thumbBackward=y.find(".thumbBackward").css({cursor:"pointer",display:"none"}).bind(Pa,function(){if(!k||r)return!1;A&&clearInterval(A);A=setInterval(function(){var b;"horizontal"==_thumbOrientation?(b=parseInt(n.css("left"),10),b+=200,0<b&&(A&&clearInterval(A),b=0),n.css("left",b+"px")): (b=parseInt(n.css("top"),10),b+=200,0<b&&(A&&clearInterval(A),b=0),n.css("top",b+"px"))},100);return!1}).bind(Qa,function(){A&&clearInterval(A);return!1}),thumbForward=y.find(".thumbForward").css({cursor:"pointer",display:"none"}).bind(Pa,function(){if(!k||r)return!1;A&&clearInterval(A);A=setInterval(function(){if("horizontal"==_thumbOrientation){var b=parseInt(n.css("left"),10),a=x("w"),b=b-200;b<a-p-q-l&&(A&&clearInterval(A),b=a-p-q-l);n.css("left",b+"px")}else b=parseInt(n.css("top"),10),a=x("h"), b-=200,b<a-p-q-l&&(A&&clearInterval(A),b=a-p-q-l),n.css("top",b+"px")},100);return!1}).bind(Qa,function(){A&&clearInterval(A);return!1}));var n=y.find(".thumbInnerContainer"),sa=y.find(".playlistControls"),C,D,l,q,xb="data/icons/prev_v.png data/icons/prev.png data/icons/prev_v_on.png data/icons/prev_on.png data/icons/next_v.png data/icons/next.png data/icons/next_v_on.png data/icons/next_on.png data/icons/switch.png data/icons/switch_on.png".split(" "),Ra,Hb=xb.length;for(Ra=0;Ra<Hb;Ra++)c(new Image).load(function(){}).error(function(b){}).attr("src", xb[Ra]);"buttons"==F&&cb&&a();var ma=y.find(".advance_controls"),ta=y.find(".playlist_prev").css("cursor","pointer").bind("click",function(){if(!k||r)return!1;V();_playlistManager.advanceHandler(-1);return!1}),ka=y.find(".playlist_toggle").css("cursor","pointer").bind("click",function(){if(!k||r||!g)return!1;Ja();return!1}),ua=y.find(".playlist_next").css("cursor","pointer").bind("click",function(){if(!k||r)return!1;V();_playlistManager.advanceHandler(1);return!1}),fa=y.find(".playlist_switch").css("cursor", "pointer").bind("click",function(){if(!k||r||!g)return!1;vb();return!1});isMobile||(ta.bind("mouseover",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/prev_on.png":"data/icons/prev_v_on.png";c(this).css("background-image",'url("'+b+'")');return!1}).bind("mouseout",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/prev.png":"data/icons/prev_v.png";c(this).css("background-image",'url("'+b+'")');return!1}),ka.bind("mouseover",function(){if(!k)return!1; var b=Q?"horizontal"==_thumbOrientation?"data/icons/next_v_on.png":"data/icons/next_on.png":"horizontal"==_thumbOrientation?"data/icons/prev_v_on.png":"data/icons/prev_on.png";c(this).css("background-image",'url("'+b+'")');return!1}).bind("mouseout",function(){if(!k)return!1;var b=Q?"horizontal"==_thumbOrientation?"data/icons/next_v.png":"data/icons/next.png":"horizontal"==_thumbOrientation?"data/icons/prev_v.png":"data/icons/prev.png";c(this).css("background-image",'url("'+b+'")');return!1}),ua.bind("mouseover", function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/next_on.png":"data/icons/next_v_on.png";c(this).css("background-image",'url("'+b+'")');return!1}).bind("mouseout",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/next.png":"data/icons/next_v.png";c(this).css("background-image",'url("'+b+'")');return!1}),fa.bind("mouseover",function(){if(!k)return!1;c(this).css("background-image",'url("data/icons/switch_on.png")');return!1}).bind("mouseout",function(){if(!k)return!1; c(this).css("background-image",'url("data/icons/switch.png")');return!1}),"buttons"==F&&(thumbForward.bind("mouseover",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/next_on.png":"data/icons/next_v_on.png";c(this).css("background-image",'url("'+b+'")');return!1}).bind("mouseout",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/next.png":"data/icons/next_v.png";c(this).css("background-image",'url("'+b+'")');return!1}),thumbBackward.bind("mouseover", function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/prev_on.png":"data/icons/prev_v_on.png";c(this).css("background-image",'url("'+b+'")');return!1}).bind("mouseout",function(){if(!k)return!1;var b="horizontal"==_thumbOrientation?"data/icons/prev.png":"data/icons/prev_v.png";c(this).css("background-image",'url("'+b+'")');return!1})));var db,eb;y.find(".controls").length&&(db=y.find(".controls_prev").css("cursor","pointer").bind("click",function(){if(!k||r)return!1;G();return!1}), eb=y.find(".controls_next").css("cursor","pointer").bind("click",function(){if(!k||r)return!1;Ia();return!1}),y.find(".controls").css("display","block"),isMobile||(db&&db.bind("mouseover",function(){if(!k)return!1;c(this).css("backgroundImage","url(data/icons/controls_prev_on.png)");return!1}).bind("mouseout",function(){if(!k)return!1;c(this).css("backgroundImage","url(data/icons/controls_prev.png)");return!1}),eb&&eb.bind("mouseover",function(){if(!k)return!1;c(this).css("backgroundImage","url(data/icons/controls_next_on.png)"); return!1}).bind("mouseout",function(){if(!k)return!1;c(this).css("backgroundImage","url(data/icons/controls_next.png)");return!1})));Eb||Db.bind("resize",function(){if(!k)return!1;bb&&clearInterval(bb);bb=setTimeout(function(){Ma()},250);return!1});_playlistManager=c.playlistManager({randomPlay:Fb,loopingOn:Gb});c(_playlistManager).bind("ap_PlaylistManager.COUNTER_READY",function(){ca?aa?(aa=!1,Aa(),ga()):(c.address.value(d(_playlistManager.getCounter())),c.address.history()||c.address.history(!0)): (Aa(),ga())});c(_playlistManager).bind("ap_PlaylistManager.PLAYLIST_END",function(){Aa()});var ca=f.useDeeplink;if(ca){categoryArr=[];var fb;mb.children("div[data-address]").each(function(){var b={};fb=c(this);b.categoryName=fb.attr("data-address");b.id=fb.attr("id");categoryArr.push(b)});var nb=categoryArr.length+1,kb,Wa=!1,xa,Ka,U,aa=!1,Ua=!1,Z,Ta,pa=f.startUrl,M,za,La,wa;c.address.internalChange(function(b){b.stopPropagation();u(b)});c.address.externalChange(function(b){b.stopPropagation();Ta= b;r?(Z&&clearTimeout(Z),wa&&clearInterval(wa),wa=setInterval(e,100)):Ua?(Z&&clearTimeout(Z),Z=setTimeout(z,500)):"/"==b.value?(aa=!0,c.address.history(!1),P(pa)?(Ma(!0),T()):(c.address.value(pa),c.address.history()||c.address.history(!0))):P(b.value)?(aa=!0,c.address.history(!1),P(pa)||(c.address.value(pa),c.address.history()||c.address.history(!0))):u(b)})}else ya=f.activePlaylist,P(ya)?(Ma(!0),T()):I();this.playMedia=function(){k&&!r&&m&&("vimeo"==m?B&&B.play():"youtube"==m&&_youtubePlayer&&_youtubePlayer.play(), S=!0)};this.pauseMedia=function(){k&&!r&&m&&("vimeo"==m?B&&B.pause():"youtube"==m&&_youtubePlayer&&_youtubePlayer.pause(),S=!1)};this.toggleMedia=function(){k&&!r&&m&&(S?("vimeo"==m?B&&B.pause():"youtube"==m&&_youtubePlayer&&_youtubePlayer.pause(),S=!1):("vimeo"==m?B&&B.play():"youtube"==m&&_youtubePlayer&&_youtubePlayer.play(),S=!0))};this.nextMedia=function(){Ia()};this.previousMedia=function(){G()};this.destroyMedia=function(){gb()};this.destroyPlaylist=function(){Sa()};this.togglePlaylist=function(){k&& !r&&g&&Ja()};this.switchLayout=function(){k&&!r&&g&&vb()};this.setVolume=function(b){k&&!r&&m&&(0>b?b=0:1<b&&(b=1),"vimeo"==m?B&&B.setVolume(b):"youtube"==m&&_youtubePlayer&&_youtubePlayer.setVolume(b))};this.loadMedia=function(b){if(!k||r)return!1;if(ca)if("string"===typeof b)c.address.value(b);else return alert("Invalid value loadMedia Deeplink!"),!1;else if("number"===typeof b)0>b?b=0:b>ba-1&&(b=ba-1),V(),_playlistManager.processPlaylistRequest(b);else if("string"===typeof b){if(-1!=b.indexOf("/"))return alert("Invalid value loadMedia no Deeplink!"), !1;ya=b;Sa();I()}else return alert("Invalid value loadMedia no Deeplink!"),!1};this.getPlaylistData=function(){if(k&&!r)return na};return this}})(jQuery);function yvgbSetupDone(c){} (function(c){function f(a,e){function f(a){d.playerReady=!0;d.forcePreviewStop||(c(d).trigger("ap_YoutubePlayer.YT_READY"),"undefined"!==typeof d._player.setVolume&&d._player.setVolume(100*d._defaultVolume),d._autoPlay&&d._player.playVideo())}function v(a){c(d).trigger("ap_YoutubePlayer.QUALITY_CHANGE",[a.data])}function u(a){if(d.forceMainStop&&(d.forceMainStop=!1,"undefined"!==typeof d._player.stopVideo)){d._player.stopVideo();c(d).trigger("ap_YoutubePlayer.FORCE_MAIN_STOP");return}-1!=a.data&& (0==a.data?(c(d).trigger("ap_YoutubePlayer.END_PLAY"),d.loop&&d._player.playVideo()):1==a.data?(d.forcePreviewStop&&"undefined"!==typeof d._player.stopVideo&&d._player.stopVideo(),d._autoPlay=!0,d.small_embed&&"undefined"!==typeof d._player.setVolume&&d._player.setVolume(100*d._defaultVolume),d._inited||(c(d).trigger("ap_YoutubePlayer.START_PLAY"),d._inited=!0,!d.small_embed&&d.quality?d._player.setPlaybackQuality(d.quality):d.small_embed&&d._player.setPlaybackQuality(d._player.getAvailableQualityLevels()[d._player.getAvailableQualityLevels().length- 1])),c(d).trigger("ap_YoutubePlayer.STATE_PLAYING")):2==a.data?c(d).trigger("ap_YoutubePlayer.STATE_PAUSED"):5==a.data&&c(d).trigger("ap_YoutubePlayer.STATE_CUED"))}function t(a){c(d).trigger("ap_YoutubePlayer.ERROR_HANDLER",[a.data])}var d=this;this.isIE=a.isIE?a.isIE:!1;this.isMobile=a.isMobile;this.initialAutoplay=a.initialAutoplay;this._inited=!1;this._player;this._autoPlay=a.autoPlay;this._defaultVolume=a.defaultVolume;this._youtubeHolder=a.youtubeHolder;this._frameId="ytplayer"+Math.floor(16777215* Math.random());a.quality&&(this.quality=a.quality);a.small_embed&&(this.small_embed=a.small_embed);a.loop&&(this.loop=a.loop);this.lastID;this.playerReadyInterval=100;this.playerReadyIntervalID;this.playerReady=!1;this.protocol=a.protocol;0==a.youtubeChromeless&&(e.useControls=!0,e.ytShowinfo=!0);var N="?controls="+(e.useControls?1:0).toString(),K="&amp;autohide="+(e.autoHideControls?1:0).toString(),O="&amp;showinfo="+(e.ytShowinfo?1:0).toString(),Y="&amp;modestbranding="+(e.ytModestbranding?1:0).toString(), ha="&amp;rel="+(e.ytRel?1:0).toString(),T="&amp;theme="+(e.ytTheme?e.ytTheme:"dark");this.forcePreviewStop=this.forceMainStop=!1;this.youtubeVideoIframe=c("<iframe />",{frameborder:0,src:"https://www.youtube.com/embed/"+a.mediaPath+N+ha+O+K+"&amp;enablejsapi=1"+T+Y+"&amp;wmode=transparent",width:"100%",height:"100%",id:this._frameId,webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});this._youtubeHolder.css("display","block").append(this.youtubeVideoIframe);N=document.createElement("script"); N.src=this.protocol+"//www.youtube.com/iframe_api";K=document.getElementsByTagName("script")[0];K.parentNode.insertBefore(N,K);var I=setInterval(function(){window.YT&&window.YT.Player&&(I&&clearInterval(I),d._player=new YT.Player(d._frameId,{events:{onReady:f,onPlaybackQualityChange:v,onStateChange:u,onError:t}}))},100);window.onYouTubeIframeAPIReady=function(){}}c.youtubePlayer=function(a,c){return new f(a,c)};f.prototype={clean:function(a){this._player&&("undefined"!==typeof this._player.stopVideo&& this._player.stopVideo(),this._player=null);this.youtubeVideoIframe&&(this.youtubeVideoIframe.attr("src",""),this.youtubeVideoIframe.remove(),this.youtubeVideoIframe=null);this._youtubeHolder&&this._youtubeHolder.empty().css("display","none")},stopPreview:function(){this.forcePreviewStop=!0},initVideo:function(a,c){this.forcePreviewStop=this.forceMainStop=!1;this.quality=c;if(this.playerReady)this._player&&(this._inited=!1,this._autoPlay?"undefined"!==typeof this._player.loadVideoById&&this._player.loadVideoById(a): "undefined"!==typeof this._player.cueVideoById&&this._player.cueVideoById(a));else{var f=this;this.lastID=a;this.playerReadyIntervalID||(this.playerReadyIntervalID=setInterval(function(){f.playerReady&&(f.playerReadyIntervalID&&clearInterval(f.playerReadyIntervalID),f.forceMainStop||f.initVideo(f.lastID))},this.playerReadyInterval))}},stop:function(){this.forceMainStop=!0;this._player&&"undefined"!==typeof this._player.stopVideo&&this._player.stopVideo()},play:function(){this._player&&"undefined"!== typeof this._player.playVideo&&this._player.playVideo()},pause:function(){this._player&&"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo()},togglePlayback:function(a){if(this._player)if(void 0==a){if("undefined"===typeof this._player.getPlayerState)return!1;a=this._player.getPlayerState();1==a?"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo():2==a?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():-1!=a&&5!=a&&0!=a||"undefined"===typeof this._player.playVideo|| this._player.playVideo()}else a?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo()},seek:function(a){this._player&&"undefined"!==typeof this._player.seekTo&&this._player.seekTo(a)},isMuted:function(){if(this._player&&"undefined"!==typeof this._player.isMuted)return this._player.isMuted()},getDuration:function(){if(this._player&&"undefined"!==typeof this._player.getDuration)return this._player.getDuration()}, getCurrentTime:function(){if(this._player&&"undefined"!==typeof this._player.getCurrentTime)return this._player.getCurrentTime()},getVideoLoadedFraction:function(){if(this._player&&"undefined"!==typeof this._player.getVideoLoadedFraction)return this._player.getVideoLoadedFraction()},getVideoBytesLoaded:function(){if(this._player&&"undefined"!==typeof this._player.getVideoBytesLoaded)return this._player.getVideoBytesLoaded()},getVideoBytesTotal:function(){if(this._player&&"undefined"!==typeof this._player.getVideoBytesTotal)return this._player.getVideoBytesTotal()}, setVolume:function(a){0>a?vol=0:1<a&&(a=1);this._player&&"undefined"!==typeof this._player.setVolume&&this._player.setVolume(100*a)},getPlayerState:function(){if(this._player&&"undefined"!==typeof this._player.getPlayerState)return this._player.getPlayerState()},setAutoPlay:function(a){this._autoPlay=a},getQualityLevels:function(){return this._player.getAvailableQualityLevels()},getCurrQuality:function(){return this._player.getPlaybackQuality()},setPlaybackQuality:function(a){this._player.setPlaybackQuality(a)}}})(jQuery); (function(c){function f(a,e){var f=this;this.isMobile=a.isMobile;this.initialAutoplay=a.initialAutoplay;this._autoPlay=a.autoPlay;this._defaultVolume=a.defaultVolume;this._vimeoHolder=a.vimeoHolder;this._inited=!1;this.protocol=a.protocol;var v="player"+Math.floor(16777215*Math.random());this._player_id="&player_id="+v;this._vimeoApi="?api=1";var u=e.vim_color?e.vim_color:"00adef";"#"==u.charAt(0)&&(u=u.substring(1));this.vim_color="&color="+u.toString();this.vim_badge="&badge="+(e.vim_badge?1:0).toString(); this.vim_byline="&byline="+(e.vim_byline?1:0).toString();this.vim_portrait="&portrait="+(e.vim_portrait?1:0).toString();this.vim_title="&title="+(e.vim_title?1:0).toString();u=this.getIFrameSrc(a.mediaPath);this.playing;this.currentTime;this.intervalID;this._vimeoVideoIframe=c("<iframe />",{id:v,frameborder:0,src:u,width:"100%",height:"100%"});this._vimeoHolder.css("display","block");this._vimeoHolder.append(this._vimeoVideoIframe);this._player=Froogaloop(this._vimeoVideoIframe[0]);this._player.addEvent("ready", function(){c(f).trigger("ap_VimeoPlayer.VIMEO_READY");f._player.api("setVolume",f._defaultVolume);f._player.addEvent("play",function(a){c(f).trigger("ap_VimeoPlayer.VIMEO_PLAY");self.playing=!0;f.isMobile||(f._autoPlay=!0)});f._player.addEvent("pause",function(a){c(f).trigger("ap_VimeoPlayer.VIMEO_PAUSE");self.playing=!1});f._player.addEvent("finish",function(){c(f).trigger("ap_VimeoPlayer.END_PLAY")});f.intervalID=setInterval(function(){f._player.api("getCurrentTime",function(a,c){f.currentTime= a})},100);f._inited||(f._inited=!0);f._autoPlay&&f._player.api("play")})}c.vimeoPlayer=function(a,c){return new f(a,c)};f.prototype={initVideo:function(a){this._player&&(this._vimeoHolder.css("display","block"),this._vimeoVideoIframe.attr("src",this.getIFrameSrc(a)))},getIFrameSrc:function(a){return this.protocol+"//player.vimeo.com/video/"+a+this._vimeoApi+this._player_id+this.vim_color+this.vim_badge+this.vim_byline+this.vim_portrait+this.vim_title},stop:function(){},play:function(){this._player.api("play")}, pause:function(){this._player.api("pause")},togglePlayback:function(){this.playing?this._player.api("pause"):this._player.api("play");this.playing=!this.playing},seek:function(a){},isMuted:function(){},getCurrentTime:function(){return this.currentTime},getDuration:function(){},setVolume:function(a){this._player.api("setVolume",a)},clean:function(){this.intervalID&&clearInterval(this.intervalID);this._player.removeEvent("finish");this._vimeoVideoIframe.attr("src","");this._vimeoHolder.css("display", "none")},setAutoPlay:function(a){this._autoPlay=a}}})(jQuery); (function(c){function f(a){this._loopingOn=a.loopingOn;this._randomPlay=a.randomPlay;this._playlistItems;this._lastInOrder=!1;this._counter=-1;this._lastPlayedFromPlaylistClick;this._lastRandomCounter;this._traceCounter=this._randomPaused=!1;this._randomArr=[];this._playlistSelect=!1}c.playlistManager=function(a){return new f(a)};f.prototype={setCounter:function(a,c){"undefined"===typeof c&&(c=!0);this._counter=c?this._counter+parseInt(a,10):parseInt(a,10);this._checkCounter()},getCounter:function(){return this._randomPlay? this._playlistSelect?this._counter:this._randomArr[this._counter]:this._counter},advanceHandler:function(a){this._playlistSelect=!1;this._randomPaused?this._handleRandomPaused(a):this.setCounter(a)},processPlaylistRequest:function(a){this._playlistSelect=!1;this._randomPlay&&(this._playlistSelect=!0,this._lastPlayedFromPlaylistClick=a,this._randomPaused||(this._lastRandomCounter=this._counter,this._randomPaused=!0));this.setCounter(a,!1)},getLastInOrder:function(){return this._lastInOrder},getRandomPaused:function(){return this._randomPaused}, setPlaylistItems:function(a,c){"undefined"===typeof c&&(c=!0);c&&(this._counter=-1);this._playlistItems=a;this._randomPlay&&this._makeRandomList()},reSetCounter:function(a){"undefined"===typeof a?this._counter=-1:(a=parseInt(a,10),this._playlistItems?(a>this._playlistItems-1?a=this._playlistItems-1:0>a&&(a=0),this._counter=a):this._counter=-1)},setRandom:function(a){(this._randomPlay=a)&&this._makeRandomList();this._randomChange()},setLooping:function(a){this._loopingOn=a},setTraceCounter:function(a){this._traceCounter= a},_handleRandomPaused:function(a){var e=c(this);this._randomPaused=!1;this._lastRandomCounter+a>this._playlistItems-1?(this._counter=this._playlistItems-1,e.trigger("ap_PlaylistManager.COUNTER_READY")):0>this._lastRandomCounter+a?(this._counter=0,e.trigger("ap_PlaylistManager.COUNTER_READY")):this.setCounter(this._lastRandomCounter+a,!1)},_randomChange:function(){this._randomPlay?(this._activeIndexFirst(),this._counter=0):this._randomPaused?(this._counter=this._lastPlayedFromPlaylistClick,this._randomPaused= !1):this._counter=this._randomArr[this._counter]},_checkCounter:function(){if(isNaN(this._counter))alert("ap_PlaylistManager message: No active media, counter = "+this._counter);else{var a=c(this);this._lastInOrder=!1;this._loopingOn?(this._randomPlay?this._counter>this._playlistItems-1?(this._counter=this._randomArr[this._playlistItems-1],this._makeRandomList(),this._firstIndexCheck(),this._counter=0,a.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._randomArr[0], this._makeRandomList(),this._lastIndexCheck(),this._counter=this._playlistItems-1):this._counter>this._playlistItems-1?(this._counter=0,a.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._playlistItems-1),a.trigger("ap_PlaylistManager.COUNTER_READY")):(this._counter>this._playlistItems-1?(this._counter=this._playlistItems-1,this._lastInOrder=!0):0>this._counter&&(this._counter=0),this._lastInOrder?a.trigger("ap_PlaylistManager.PLAYLIST_END"):a.trigger("ap_PlaylistManager.COUNTER_READY")); this._traceCounter&&console.log("counter = "+this.getCounter())}},_makeRandomList:function(){3>this._playlistItems||(this._randomArr=this._randomiseIndex(this._playlistItems))},_firstIndexCheck:function(){if(this._randomArr[0]==this._counter){var a=this._randomArr.splice(0,1);this._randomArr.push(a)}},_lastIndexCheck:function(){if(this._randomArr[this._playlistItems-1]==this._counter){var a=this._randomArr.splice(this._playlistItems-1,1);this._randomArr.unshift(a)}},_activeIndexFirst:function(){var a, c=this._randomArr.length;for(a=0;a<c;a++)if(this._randomArr[a]==this._counter){if(0==a)break;a=this._randomArr.splice(a,1);this._randomArr.unshift(parseInt(a,10));break}},_randomiseIndex:function(a){var c=[],f=[],v;for(v=0;v<a;v++)c[v]=v;var u;for(v=0;v<a;v++)u=Math.round(Math.random()*(c.length-1)),f[v]=c[u],c.splice(u,1);return f}}})(jQuery);